#
# A couple of useful guides & docs:
#
# - Main Bitrise CLI docs: https://github.com/bitrise-io/bitrise/tree/master/_docs
# - Step Development Guideline: https://github.com/bitrise-io/bitrise/blob/master/_docs/step-development-guideline.md
# - Bitrise.yml format spec: https://github.com/bitrise-io/bitrise/blob/master/_docs/bitrise-yml-format-spec.md
# - Bitrise docs: http://devcenter.bitrise.io/
# - Bitrise CLI guides: http://devcenter.bitrise.io/bitrise-cli/

title: |-
  bitrise-step-jira-set-release-version
summary: |
  Create and Add a Jira release version
description: |
  Use this step to create a Jira release in your project and add it to a bundle of tickets
website: https://github.com/Freebox-Apps/bitrise-step-jira-set-release-version
source_code_url: https://github.com/Freebox-Apps/bitrise-step-jira-set-release-version
support_url: https://github.com/Freebox-Apps/bitrise-step-jira-set-release-version

type_tags:
  - utility

toolkit:
  bash:
    entry_file: step.sh


inputs:
  - JIRA_DOMAIN:
    opts:
      title: Jira company domain
      is_sensitive: true
      is_required: true
  - JIRA_USER:
    opts:
      title: Jira user name
      is_sensitive: true
      is_required: true
  - JIRA_TOKEN:
    opts:
      title: Jira token
      is_required: true
      is_sensitive: true
  - PROJECT_KEY: MA
    opts:
      title: Jira project prefix
      is_required: true
  - VERSION_NAME:
    opts:
      title: Name of the new version
      is_required: true
  - TICKET_LIST:
    opts:
      title: The resolved ticket list
      description: |
        All tickets found will be retrived and concatenate into a string delimited
      is_required: true
  - TICKET_DELIMITER: "|"
    opts:
      title: Ticket output_delimiter
      description:  Delimiter to use when several tickets are found e.g. with `|` will ouptut TK-123|TK-124
      is_required: true
